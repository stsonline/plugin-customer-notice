function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){this.customerNotice=function(){arguments[0]&&"object"===_typeof(arguments[0])&&(this.options=function(e,t){var o;for(o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e}({api:{url:"https://example.com/api/status",urlOverride:"http://example.com/api/health",vendor:{url:"https://example.com/api/forms/example"}},timeout:7e4,element:"ptframe",theme:{color:"#924a8b"},tracking:{id:"UA-XXXXXXXX-X",name:"customerPlugin",title:"Customer Plugin"},elsToRemove:[""]},arguments[0]));var e=this.options.api.url,t=this.options.api.urlOverride,o=this.options.api.vendor.url,n=this.options.timeout,i=this.options.element,r=this.options.theme.color,s=this.options.tracking.id,a=this.options.tracking.name,l=this.options.tracking.title,c=this.options.elsToRemove,m=0,p=!1;function u(e){p&&ga(`${a}.send`,"event",l,e,"")}function d(e){if(console.log(i),document.getElementById(i)){document.getElementById(i).style.display="none",document.getElementById(i).style.visibility="hidden",document.getElementById(i).style.opacity="0";for(var t=0;t<c.length;t++)if(document.querySelector(c[t])){let e=document.querySelector(c[t]);e.parentNode.removeChild(e)}!function(e){var t=document.createElement("div");if(t.innerHTML=`<div id="customer-notice--plugin" style=\n                              "text-align:center;font-family:sans-serif;font-weight:400;font-size:16px!important;max-width:767px;width:100%;margin:16px auto;line-height:1.7;">\n                                <div style=\n                                "padding:20px;margin:0 16px;border: 1px solid #f5f4f4;border-top:3px solid ${r};background-color:#fbfbfb;">\n                                  <iframe id="vendor-form" src='${o}' width="100%" frameborder="0" scrolling="yes" style="min-height:1570px;overflow-y:auto;"></iframe>\n                                </div>\n                              </div>`,document.getElementById(i)){var n=document.getElementById(i);t.appendBefore(n),u(`Customer notice triggered [showing third-party form] - reason: ${""!=e?e:"not set"}`)}}(e)}}function f(e,t=!1){var o=new XMLHttpRequest;function i(e){t||d(e||"down")}o.addEventListener("error",i),o.open("GET",e,!0),o.timeout=n,o.ontimeout=function(){i("network")},o.onreadystatechange=function(){var e;4===o.readyState&&null!=o.response&&(e=JSON.parse(o.response))&&e.online&&!0===e.customer_notice&&d("manual")},u("Plugin loaded"),o.send()}Element.prototype.appendBefore=function(e){e.parentNode.insertBefore(this,e)},window.XMLHttpRequest&&(!function e(){var t,o,n,i,r,a;"function"==typeof ga||m++>3?(t=window,o=document,n="script",i="ga",t.GoogleAnalyticsObject=i,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,r=o.createElement(n),a=o.getElementsByTagName(n)[0],r.async=1,r.src="https://www.google-analytics.com/analytics.js",a.parentNode.insertBefore(r,a),ga("create",s,{name:"customerNoticePlugin"}),p=!0):setTimeout(e,500)}(),f(t,!0),f(e))}}();
